"use strict";var serverAddress="localhost",serverPort=8080;$(function(){$("#iconsViewTrigger").on("click touchstart",function(e){e.preventDefault(),$("#iconsView").is(":hidden")&&($("#iconsView").fadeIn(0),$("#listView, #columnsView").fadeOut(0),$("#iconsViewTrigger").addClass("current"),$("#listViewTrigger, #columnsViewTrigger").removeClass("current"))}),$("#listViewTrigger").on("click touchstart",function(e){e.preventDefault(),$("#listView").is(":hidden")&&($("#listView").fadeIn(0),$("#iconsView, #columnsView").fadeOut(0),$("#listViewTrigger").addClass("current"),$("#iconsViewTrigger, #columnsViewTrigger").removeClass("current"))}),$("#columnsViewTrigger").on("click touchstart",function(e){e.preventDefault(),$("#columnsView").is(":hidden")&&($("#columnsView").fadeIn(0),$("#iconsView, #listView").fadeOut(0),$("#columnsViewTrigger").addClass("current"),$("#iconsViewTrigger, #listViewTrigger").removeClass("current"))}),$("#advancedFiltersMenuTrigger").on("click touchstart",function(e){e.preventDefault(),$("#advancedFiltersMenu").is(":hidden")&&$("#menus, #advancedFiltersMenu").fadeIn("slow")}),$("#configMenuTrigger").on("click touchstart",function(e){e.preventDefault(),$("#configMenu").is(":hidden")&&$("#menus, #configMenu").fadeIn("slow")}),$("#menusLeftover, #menusWrapper").on("click touchstart",function(e){e.preventDefault(),!$("#infoMenu").is(":visible")||$(e.target).is("#infoMenu, #infoMenu *")&&!$(e.target).is(".closeButton")||$("#menus, #infoMenu").fadeOut("slow"),!$("#editMenu").is(":visible")||$(e.target).is("#editMenu, #editMenu *")&&!$(e.target).is(".closeButton")||$("#menus, #editMenu").fadeOut("slow"),!$("#advancedFiltersMenu").is(":visible")||$(e.target).is("#advancedFiltersMenu, #advancedFiltersMenu *")&&!$(e.target).is(".closeButton")||$("#menus, #advancedFiltersMenu").fadeOut("slow"),!$("#configMenu").is(":visible")||$(e.target).is("#configMenu, #configMenu *")&&!$(e.target).is(".closeButton")||$("#menus, #configMenu").fadeOut("slow")})}),$(function(){function e(e){for(var i='<div class="wrapper">',n='<table class="wrapper">',s='<div class="wrapper">',t="",r=0;r<e.length;r++){switch(i+='<div class="printer',e[r].detailedInfo.status.toLowerCase()){case"awake":i+=" connected",t="Awake";break;case"sleep":i+=" missing",t="Sleep";break;case"unreachable":i+=" missing",t="Unreachable";break;case"turn off":i+=" missing",t="Turn Off";break;case"with alerts":i+=" warning",t="With Alerts";break;case"busy with activities":i+=" connected",t="Busy With Activities";break;case"with system errors":i+=" error",t="With System Errors";break;case"not initialized":i+=" missing",t="Not Initialized";break;case"unknown":i+=" missing",t="Unknown";break;default:i+=" missing",t="Unknown"}i+=' title="'+t+'">',i+='<div class="info">',i+=e[r].basicInfo.ip?"<p>"+e[r].basicInfo.ip+"</p>":"<p>&mdash;</p>",i+=e[r].basicInfo.modelname?"<p>"+e[r].basicInfo.modelname+"</p>":"<p>&mdash;</p>",i+=e[r].detailedInfo.firmwareVersion?"<p>"+e[r].detailedInfo.firmwareVersion+"</p>":"<p>&mdash;</p>",i+="</div>",null!=e[r].metadata.reservedBy&&null!=e[r].metadata.reservedUntil&&(i+='<div class="state"><p>RESERVED</p></div>'),i+="</div>"}i+="</div>",n+="</div>",s+="</div>",$("#iconsView div.wrapper").remove(),$(i).appendTo("#iconsView")}$.ajax({url:"http://"+serverAddress+":"+serverPort+"/printers/list",method:"GET",success:function(i,n){e(i)},error:function(e,i,n){n?console.log(e.responseText):console.log("Unable to connect to server")}})});