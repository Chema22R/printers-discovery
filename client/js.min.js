"use strict";var serverAddress="localhost",serverPort=8080;$(function(){$("#iconsViewTrigger").on("click touchstart",function(e){e.preventDefault(),$("#iconsView").is(":hidden")&&($("#iconsView").fadeIn(0),$("#listView, #columnsView").fadeOut(0),$("#iconsViewTrigger").addClass("current"),$("#listViewTrigger, #columnsViewTrigger").removeClass("current"))}),$("#listViewTrigger").on("click touchstart",function(e){e.preventDefault(),$("#listView").is(":hidden")&&($("#listView").fadeIn(0),$("#iconsView, #columnsView").fadeOut(0),$("#listViewTrigger").addClass("current"),$("#iconsViewTrigger, #columnsViewTrigger").removeClass("current"))}),$("#columnsViewTrigger").on("click touchstart",function(e){e.preventDefault(),$("#columnsView").is(":hidden")&&($("#columnsView").fadeIn(0),$("#iconsView, #listView").fadeOut(0),$("#columnsViewTrigger").addClass("current"),$("#iconsViewTrigger, #listViewTrigger").removeClass("current"))}),$("#advancedFiltersMenuTrigger").on("click touchstart",function(e){e.preventDefault(),$("#advancedFiltersMenu").is(":hidden")&&$("#menus, #advancedFiltersMenu").fadeIn("slow")}),$("#configMenuTrigger").on("click touchstart",function(e){e.preventDefault(),$("#configMenu").is(":hidden")&&$("#menus, #configMenu").fadeIn("slow")}),$("#menusLeftover, #menusWrapper").on("click touchstart",function(e){e.preventDefault(),!$("#infoMenu").is(":visible")||$(e.target).is("#infoMenu, #infoMenu *")&&!$(e.target).is(".closeButton")||$("#menus, #infoMenu").fadeOut("slow"),!$("#editMenu").is(":visible")||$(e.target).is("#editMenu, #editMenu *")&&!$(e.target).is(".closeButton")||$("#menus, #editMenu").fadeOut("slow"),!$("#advancedFiltersMenu").is(":visible")||$(e.target).is("#advancedFiltersMenu, #advancedFiltersMenu *")&&!$(e.target).is(".closeButton")||$("#menus, #advancedFiltersMenu").fadeOut("slow"),!$("#configMenu").is(":visible")||$(e.target).is("#configMenu, #configMenu *")&&!$(e.target).is(".closeButton")||$("#menus, #configMenu").fadeOut("slow")})}),$(function(){function e(){for(var e='<div id="iconsViewPopulation" class="wrapper">',s='<tbody id="listViewPopulation">',n='<div id="columnsViewPopulation" class="wrapper">',t="",a=0;a<i.length;a++){switch(e+='<div class="printer',s+='<tr class="printer',n+='<div class="printer',i[a].detailedInfo.status.toLowerCase()){case"awake":e+=" connected",s+=" connected",n+=" connected",t="Awake";break;case"sleep":e+=" missing",s+=" missing",n+=" missing",t="Sleep";break;case"unreachable":e+=" missing",s+=" missing",n+=" missing",t="Unreachable";break;case"turn off":e+=" missing",s+=" missing",n+=" missing",t="Turn Off";break;case"with alerts":e+=" warning",s+=" warning",n+=" warning",t="With Alerts";break;case"busy with activities":e+=" connected",s+=" connected",n+=" connected",t="Busy With Activities";break;case"with system errors":e+=" error",s+=" error",n+=" error",t="With System Errors";break;case"not initialized":e+=" missing",s+=" missing",n+=" missing",t="Not Initialized";break;default:e+=" missing",s+=" missing",n+=" missing",t="Unknown"}e+='" title="'+t+'">',s+='">',n+='" title="'+t+'">',e+='<div class="info">',n+='<div class="info">',i[a].basicInfo.ip?(e+="<p>"+i[a].basicInfo.ip.replace(/\s/g,"&nbsp;")+"</p>",s+="<td>"+i[a].basicInfo.ip+"</td>",n+="<p>"+i[a].basicInfo.ip.replace(/\s/g,"&nbsp;")+"</p>"):(e+="<p>&mdash;</p>",s+="<td>&mdash;</td>"),i[a].basicInfo.modelname?(e+="<p>"+i[a].basicInfo.modelname.replace(/\s/g,"&nbsp;")+"</p>",s+="<td>"+i[a].basicInfo.modelname+"</td>",n+="<p>"+i[a].basicInfo.modelname.replace(/\s/g,"&nbsp;")+"</p>"):(e+="<p>&mdash;</p>",s+="<td>&mdash;</td>"),i[a].detailedInfo.firmwareVersion?(e+="<p>"+i[a].detailedInfo.firmwareVersion.replace(/\s/g,"&nbsp;")+"</p>",s+="<td>"+i[a].detailedInfo.firmwareVersion+"</td>"):(e+="<p>&mdash;</p>",s+="<td>&mdash;</td>"),s+='<td class="state">'+t+"</td>",s+=i[a].metadata.alias?"<td>"+i[a].metadata.alias+"</td>":"<td>&mdash;</td>",s+=i[a].metadata.reservedBy?"<td>"+i[a].metadata.reservedBy+"</td>":"<td>&mdash;</td>",e+="</div>",n+="</div>",e+='<div class="state">',n+='<div class="state">',null!=i[a].metadata.reservedBy&&null!=i[a].metadata.reservedUntil&&(e+="<p>RESERVED</p>",n+="<p>R</p>"),e+="</div></div>",s+="<tr>",n+="</div></div>"}e+="</div>",s+="</tbody>",n+="</div>",$("#iconsViewPopulation").remove(),$("#listViewPopulation").remove(),$("#columnsViewPopulation").remove(),$(e).appendTo("#iconsView"),$(s).appendTo("#listView table.wrapper"),$(n).appendTo("#columnsViewPrintersColumn")}var i;$.ajax({url:"http://"+serverAddress+":"+serverPort+"/printers/list",method:"GET",success:function(s,n){i=s,e()},error:function(e,i,s){s?console.log(e.responseText):console.log("Unable to connect to server")}})});